//! locus
//! version : 0.1.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://github.com/TalAter/locus
(function(a){"use strict";var b=this,c=navigator.geolocation;if(!c)return b.Locus=null,a;var d={},e=function(a){for(var b in d)if(d.hasOwnProperty(b)){var c=d[b];f(a,c)&&c.fn()}},f=function(a,b){return a.longitude===b.coords.longitude&&a.latitude===b.coords.latitude},g=function(a){return a=a.replace(/[^\d\,\-\.]/,""),a=a.split(","),{longitude:a[0],latitude:a[1]}};b.Locus={addFences:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];d[b]={coords:g(c.coords),fn:c.fn}}},getFences:function(){return d},removeFences:function(b){return b===a?void(d={}):(b=Array.isArray(b)?b:[b],void b.forEach(function(a){delete d[a]}))},start:function(){c.getCurrentPosition(e),c.watchPosition(e)}}}).call(this);