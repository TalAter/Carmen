//! locus
//! version : 0.1.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://github.com/TalAter/locus
(function(a){"use strict";var b=this,c=navigator.geolocation;if(!c)return b.Locus=null,a;var d,e={},f=function(a){for(var b in e)if(e.hasOwnProperty(b)){var c=e[b];g(a.coords,c)&&c.fn()}},g=function(a,b){return a.longitude===b.coords.longitude&&a.latitude===b.coords.latitude},h=function(a){return a=a.replace(/[^\d\,\-\.]/,""),a=a.split(","),{latitude:parseFloat(a[0]),longitude:parseFloat(a[1])}};b.Locus={addFences:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];e[b]={coords:h(c.coords),fn:c.fn}}},getFences:function(){return e},removeFences:function(b){return b===a?void(e={}):(b=Array.isArray(b)?b:[b],void b.forEach(function(a){delete e[a]}))},start:function(){return d?!1:(d=c.watchPosition(f),!0)}}}).call(this);